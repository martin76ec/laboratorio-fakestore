(()=>{const e=document.getElementById("app"),t=e=>e.isIntersecting,n=new IntersectionObserver((e=>{e.filter(t).forEach((e=>{const t=e.target;r(a.next().value,10),n.unobserve(t)}))})),a=function*(e,t){let n=0;for(;;)yield n+=10}(),r=async(t,a)=>{try{(await(async e=>{const t=await fetch(e);return(await t.json()).map(((e,t)=>((e,t)=>`\n  <article class="Card">\n    <h1>Product #${t}</h1>\n    <img src="${e.images[0]}" />\n    <h2>\n      ${e.title}\n      <small>$ ${e.price}</small>\n    </h2>\n  </article>\n`)(e,t)))})("https://api.escuelajs.co/api/v1/products?offset=:start&limit=:number".replace(":start",t).replace(":number",a))).forEach(((t,r)=>{const c=document.createElement("div");var s;c.classList.add("Item"),c.innerHTML=t,e.appendChild(c),r===a-1&&(s=c,n.observe(s))}))}catch(e){console.error(e)}};r(a.next().value,10)})();